<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>drag &amp; drop</title>
    <link rel="stylesheet" href="http://code.jquery.com/ui/1.12.1/themes/start/jquery-ui.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <style>
        *{box-sizing:border-box;}
        .card{
            height:100px;
            border:1px solid #888;
            text-align:center;
            line-height:100px;
        }
        .card-name{
            background-color:white;
        }
        .card-color{
            padding:0;
        }
    </style>
    <script src="http://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
    <script src="http://code.jquery.com/ui/1.12.1/jquery-ui.min.js" integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=" crossorigin="anonymous"></script>
    <script>
    $(document).ready(function(){
        var i=0;
        $(".card-color").each(function(){
            var bgcolor=$(this).attr("data-color");
            $(this).css({"background-color":bgcolor});
        });
        
        $(".card-name").draggable({
            cursor:"pointer",
            revert:true,
            start:function(event,ui){
                $(".card-name").css({"z-index":1});
                $(this).css({"z-index":999});
            }
        });
        
        $(".card-color").droppable({
            drop:function(event,ui){
                var tColor=$(this).attr("data-color");
                var oColor=$(ui.draggable).attr("data-color");
                var cOffset=$(this).offset();
                console.log(tColor,oColor);
                if(tColor===oColor){
                    $(ui.draggable).draggable("option","revert",false);
                    $(ui.draggable).draggable("disable");
                    $(ui.draggable).offset({"top":cOffset.top,"left":cOffset.left});
                    i++;
                    console.log(i);
                    if(i==8){
                        alert("축하합니다");
                        $(".card-name").removeAttr("style");
                        $(".card-name").draggable("enable");
                        $(".card-name").draggable("option","revert",true);
                        i=0;
                    }
                }
            }
        });
    });
    </script>
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <div class="col-sm-6">
                <div class="card card-name col-sm-3" data-color="red">RED</div>
                <div class="card card-name col-sm-3" data-color="green">GREEN</div>
                <div class="card card-name col-sm-3" data-color="blue">BLUE</div>
                <div class="card card-name col-sm-3" data-color="yellow">YELLOW</div>
                <div class="card card-name col-sm-3" data-color="orange">ORANGE</div>
                <div class="card card-name col-sm-3" data-color="pink">PINK</div>
                <div class="card card-name col-sm-3" data-color="black">BLACK</div>
                <div class="card card-name col-sm-3" data-color="skyblue">SKYBLUE</div>
            </div>
            <div class="col-sm-6">
                <div class="card card-color col-sm-3" data-color="red"></div>
                <div class="card card-color col-sm-3" data-color="green"></div>
                <div class="card card-color col-sm-3" data-color="blue"></div>
                <div class="card card-color col-sm-3" data-color="yellow"></div>
                <div class="card card-color col-sm-3" data-color="orange"></div>
                <div class="card card-color col-sm-3" data-color="pink"></div>
                <div class="card card-color col-sm-3" data-color="black"></div>
                <div class="card card-color col-sm-3" data-color="skyblue"></div>
            </div>
        </div>
        <p></p>
    </div>
    <script src="http://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
    <script src="http://code.jquery.com/ui/1.12.1/jquery-ui.min.js" integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=" crossorigin="anonymous"></script>
</body>
</html>